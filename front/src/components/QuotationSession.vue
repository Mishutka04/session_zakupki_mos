<template>
  <div class="quotation-session">
    <header class="header">
      <h1>–ü–æ—Ä—Ç–∞–ª –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤</h1>
      <button class="register-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
    </header>

    <main class="main-content">
      <a href="#" class="back-link">
        <span class="icon">‚Üê</span> –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Ä–µ–µ—Å—Ç—Ä –∫–æ—Ç–∏—Ä–æ–≤–æ—á–Ω—ã—Ö —Å–µ—Å—Å–∏–π
      </a>

      <div class="session-info">
        <div>
          <h2>–ö–æ—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å–µ—Å—Å–∏—è 9862557</h2>
          <span class="status">–ù–µ—Ç –æ—à–∏–±–æ–∫</span>
        </div>
        <div class="price-info">
          <p>–ù–∞—á–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞</p>
          <p class="price">23 005,39 ‚ÇΩ</p>
        </div>
      </div>

      <h3>–ò–ó–î–ï–õ–ò–Ø –ö–ê–ù–¶–ï–õ–Ø–†–°–ö–ò–ï, –ë–£–ú–ê–ì–ê –ò –ë–£–ú–ê–ñ–ù–´–ï –ò–ó–î–ï–õ–ò–Ø</h3>

      <div class="section">
        <h4>–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞</h4>
        <p>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –£–ü–î</p>
        <div class="error-section">
          <div class="error">
            <span class="icon">‚ö†Ô∏è</span> –û—à–∏–±–∫–∞ –≤ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
          </div>
          <button @click="toggleErrorComment('contract')" class="comment-btn">
            {{ showErrorComments.contract ? '–°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π' : '–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π' }}
          </button>
          <div class="correct">
            <span class="icon">‚úÖ</span> –ü—Ä–∞–≤–∏–ª—å–Ω–æ
          </div>
        </div>
        <div v-if="showErrorComments.contract" class="error-comment">
          –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ –æ—à–∏–±–∫–µ: –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Ç–æ—á–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –£–ü–î.
        </div>
      </div>

      <div class="section">
        <h4>–î–æ–∫—É–º–µ–Ω—Ç—ã</h4>
        <ul>
          <li v-for="(doc, index) in documents" :key="index">
            <div class="document-item">
              <a :href="doc.url" class="document-link">
                <span class="icon">üìÑ</span> {{ doc.name }}
              </a>
              <div class="error-section">
                <div class="error">
                  <span class="icon">‚ö†Ô∏è</span> –û—à–∏–±–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
                </div>
                <button @click="toggleErrorComment(`doc-${index}`)" class="comment-btn">
                  {{ showErrorComments[`doc-${index}`] ? '–°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π' : '–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π' }}
                </button>
                <div class="correct">
                  <span class="icon">‚úÖ</span> –ü—Ä–∞–≤–∏–ª—å–Ω–æ
                </div>
              </div>
            </div>
            <div v-if="showErrorComments[`doc-${index}`]" class="error-comment">
              {{ doc.errorComment }}
            </div>
          </li>
        </ul>
      </div>

      <div class="section">
        <h4>–°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏</h4>
        <ul>
          <li v-for="(item, index) in specifications" :key="index" class="specification-item">
            <div @click="toggleSpecification(index)" class="specification-header">
              <div>
                <h5>{{ item.name }}</h5>
                <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {{ item.quantity }}</p>
              </div>
              <span class="icon">{{ item.showDetails ? '‚ñ≤' : '‚ñº' }}</span>
            </div>
            <div v-if="item.showDetails" class="specification-details">
              <p>{{ item.description }}</p>
              <div class="error-section">
                <div v-for="(error, errorIndex) in item.errors" :key="errorIndex" class="error">
                  <span class="icon">‚ö†Ô∏è</span> {{ error.message }}
                </div>
                <button @click="toggleErrorComment(`spec-${index}`)" class="comment-btn">
                  {{ showErrorComments[`spec-${index}`] ? '–°–∫—Ä—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏' : '–ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏' }}
                </button>
                <div class="correct">
                  <span class="icon">‚úÖ</span> –ü—Ä–∞–≤–∏–ª—å–Ω–æ
                </div>
              </div>
              <div v-if="showErrorComments[`spec-${index}`]" class="error-comment">
                <p v-for="(error, errorIndex) in item.errors" :key="errorIndex">
                  {{ error.comment }}
                </p>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-links">
        <a href="#">–û –ø–æ—Ä—Ç–∞–ª–µ</a>
        <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="#">–ù–æ–≤–æ—Å—Ç–∏</a>
        <a href="#">–¶–µ–Ω—Ç—Ä –ø–æ–¥–¥–µ—Ä–∂–∫–∏</a>
        <a href="#">–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞</a>
      </div>
      <p>¬© 2017-2024 v.20241003</p>
    </footer>
  </div>
</template>

<script setup>
import { ref, reactive } from 'vue'

const showErrorComments = reactive({
  contract: false,
})

const documents = [
  { 
    name: '–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è –±—É–º–∞–≥–∞.docx', 
    url: '#', 
    errorComment: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è PDF.' 
  },
  { 
    name: '–ü—Ä–æ–µ–∫—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞.pdf', 
    url: '#', 
    errorComment: '–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–ø–∏—Å—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ª–∏—Ü–∞.' 
  },
]

const specifications = ref([
  {
    name: '–ë—É–º–∞–≥–∞ –¥–ª—è –æ—Ñ–∏—Å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ "CARTBLANK" –ê4, 500 –ª, 100 –º–∏–∫—Ä–æ–Ω',
    quantity: '60 —à—Ç',
    description: '–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –±—É–º–∞–≥–∞ –¥–ª—è –æ—Ñ–∏—Å–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏.',
    showDetails: false,
    errors: [
      { message: '–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞—è–≤–ª–µ–Ω–Ω–æ–π –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏', comment: '–§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å 80 –≥/–º¬≤, –∞ –Ω–µ 100 –º–∏–∫—Ä–æ–Ω.' },
      { message: '–û—à–∏–±–∫–∞ –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ', comment: '–¢—Ä–µ–±—É–µ—Ç—Å—è 80 —à—Ç, –∞ –Ω–µ 60 —à—Ç.' }
    ]
  },
  {
    name: '–§–∞–π–ª-–≤–∫–ª–∞–¥—ã—à Attache –ê4 60 –º–∫–º –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ä–∏—Ñ–ª–µ–Ω—ã–π 100 —à—Ç—É–∫ –≤ —É–ø–∞–∫–æ–≤–∫–µ',
    quantity: '1 —É–ø–∞–∫',
    description: '–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ñ–∞–π–ª—ã-–≤–∫–ª–∞–¥—ã—à–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.',
    showDetails: false,
    errors: [
      { message: '–û—à–∏–±–∫–∞ –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏', comment: '–¢—Ä–µ–±—É–µ—Ç—Å—è –≥–ª–∞–¥–∫–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å, –∞ –Ω–µ —Ä–∏—Ñ–ª–µ–Ω–∞—è.' }
    ]
  },
  {
    name: '–ü–∞–ø–∫–∞-—É–≥–æ–ª–æ–∫ 180 –º–∫–º –ê4 –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π',
    quantity: '10 —à—Ç',
    description: '–ü—Ä–æ—á–Ω—ã–µ –ø–∞–ø–∫–∏-—É–≥–æ–ª–∫–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.',
    showDetails: false,
    errors: [
      { message: '–û—à–∏–±–∫–∞ –≤ —Ç–æ–ª—â–∏–Ω–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞', comment: '–¢—Ä–µ–±—É–µ—Ç—Å—è 200 –º–∫–º, –∞ –Ω–µ 180 –º–∫–º.' }
    ]
  },
])

const toggleErrorComment = (key) => {
  showErrorComments[key] = !showErrorComments[key]
}

const toggleSpecification = (index) => {
  specifications.value[index].showDetails = !specifications.value[index].showDetails
}
</script>

<style scoped>
ul { list-style-type: none; }
.quotation-session {
  font-family: Arial, sans-serif;
  margin: 0 auto;
  padding: 20px;
  background-color: #f5f5f5;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.register-btn {
  background-color: #ff4d4f;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 4px;
  cursor: pointer;
}

.main-content {
  background-color: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.back-link {
  display: inline-flex;
  align-items: center;
  color: #1890ff;
  text-decoration: none;
  margin-bottom: 20px;
}

.session-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.status {
  background-color: #52c41a;
  color: white;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 12px;
}

.price-info {
  text-align: right;
}

.price {
  font-size: 24px;
  font-weight: bold;
}

.section {
  margin-bottom: 20px;
}

.error-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
}

.error, .correct {
  display: flex;
  align-items: center;
}

.error {
  color: #ff4d4f;
}

.correct {
  color: #52c41a;
}

.comment-btn {
  background: none;
  border: none;
  color: #1890ff;
  cursor: pointer;
}

.error-comment {
  background-color: #fff1f0;
  border: 1px solid #ffccc7;
  padding: 10px;
  margin-top: 10px;
  border-radius: 4px;
}

.document-item, .specification-item {
  border: 1px solid #d9d9d9;
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 4px;
}

.document-link {
  color: #1890ff;
  text-decoration: none;
}

.specification-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
}

.specification-details {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid #d9d9d9;
}

.footer {
  margin-top: 40px;
  text-align: center;
}

.footer-links {
  margin-bottom: 10px;
}

.footer-links a {
  color: #8c8c8c;
  text-decoration: none;
  margin: 0 10px;
}

.icon {
  margin-right: 5px;
}
</style>